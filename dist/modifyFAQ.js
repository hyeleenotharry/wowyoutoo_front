(()=>{"use strict";const e="http://127.0.0.1:8000",t="http://127.0.0.1:5500",o=new URLSearchParams(window.location.search).get("qna_id");function n(e){var t=e.target.innerText,o=document.querySelector(".dropbtn_content"),n=(document.querySelector(".dropbtn_click"),document.querySelector(".dropbtn"));o.innerText=t,o.style.color="#252525",n.style.borderColor="#3992a8"}function c(){var e=document.getElementById("image_input"),t=document.getElementById("file_name");if(e.files.length>0){var o=e.files[0].name;t.textContent="Selected File: "+o}else t.textContent=""}window.onload=()=>{$("#image_input").on("change",c);var r=!1;document.querySelector(".private_box").onclick=()=>{r=1!=r},document.querySelector(".dropbtn_click").onclick=()=>{var e,t;e=document.querySelector(".dropdown-content"),t=document.querySelector(".dropbtn"),e.classList.toggle("show"),t.style.borderColor="rgb(94, 94, 94)"},$("#category").on("click",n),document.querySelector(".faqC_submit").onclick=()=>{!async function(){const n=new FormData;var c=document.getElementById("title_text"),r=document.getElementById("content_text"),l=document.getElementById("image_input");if(n.append("title",c.value),n.append("content",r.value),c.value)if(r.value){l.files.length>0?n.append("image",l.files[0]):console.log(n),console.log(n);try{const t=localStorage.getItem("access");console.log(o);const c=await fetch(`${e}/service/qna/${o}/`,{method:"PUT",headers:{Authorization:`Bearer ${t}`},body:n});if(!c.ok)throw new Error(`HTTP error! Status: ${c.status}`);const r=await c.json();console.log("Success:",r)}catch(e){console.error("Error:",e)}alert("FAQ가 수정되었습니다."),location.href=`${t}/templates/FAQList.html`}else alert("내용을 입력해주세요.");else alert("제목을 입력해주세요.")}()}},window.onclick=e=>{if(!e.target.matches(".dropbtn_click")){var t,o=document.getElementsByClassName("dropdown-content");for(document.querySelector(".dropbtn_content"),document.querySelector(".dropbtn_click"),document.querySelector(".dropbtn"),t=0;t<o.length;t++){var n=o[t];n.classList.contains("show")&&n.classList.remove("show")}}}})();