(()=>{"use strict";const e="http://127.0.0.1:8000",t="http://127.0.0.1:5500",o=new URLSearchParams(window.location.search).get("qna_id");var n,r;function c(e){var t=e.target.innerText,o=document.querySelector(".dropbtn_content"),n=(document.querySelector(".dropbtn_click"),document.querySelector(".dropbtn"));r=t,o.innerText=t,o.style.color="#252525",n.style.borderColor="#3992a8"}function l(){var e=document.getElementById("image_input"),t=document.getElementById("file_name");if(e.files.length>0){var o=e.files[0].name;t.textContent="Selected File: "+o}else t.textContent=""}window.onload=()=>{$("#image_input").on("change",l);var a=!1;document.querySelector(".private_box").onclick=()=>{a=1!=a},document.querySelector(".dropbtn_click").onclick=()=>{var e,t;e=document.querySelector(".dropdown-content"),t=document.querySelector(".dropbtn"),e.classList.toggle("show"),t.style.borderColor="rgb(94, 94, 94)"},$("#category").on("click",c),document.querySelector(".faqC_submit").onclick=()=>{!async function(){var c=document.getElementById("title_text"),l=document.getElementById("content_text"),i=document.getElementById("image_input"),s=r;if(c.value)if(l.value)if(s){n=i.files.length>0?{title:c.value,content:l.value,question_type:s,is_private:a,image:i.files[0]}:{title:c.value,content:l.value,question_type:s,is_private:a};try{const t=localStorage.getItem("access");console.log(o);const r=await fetch(`${e}/service/qna/`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);const c=await r.json();console.log("Success:",c)}catch(e){console.error("Error:",e)}alert("FAQ가 등록되었습니다."),location.href=`${t}/templates/FAQList.html`}else alert("카테고리를 선택해주세요.");else alert("내용을 입력해주세요.");else alert("제목을 입력해주세요.")}()}},window.onclick=e=>{if(!e.target.matches(".dropbtn_click")){var t,o=document.getElementsByClassName("dropdown-content");for(document.querySelector(".dropbtn_content"),document.querySelector(".dropbtn_click"),document.querySelector(".dropbtn"),t=0;t<o.length;t++){var n=o[t];n.classList.contains("show")&&n.classList.remove("show")}}}})();