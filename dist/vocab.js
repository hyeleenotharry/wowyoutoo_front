(()=>{"use strict";const t="http://127.0.0.1:8000";let n,o=[{word:"Apple",correct:"사과",wrong:["배","오렌지","바나나"]},{word:"Car",correct:"자동차",wrong:["비행기","자전거","트럭"]},{word:"Book",correct:"책",wrong:["신문","잡지","만화책"]},{word:"Computer",correct:"컴퓨터",wrong:["냉장고","세탁기","전화기"]},{word:"Sun",correct:"태양",wrong:["달","별","구름"]},{word:"Coffee",correct:"커피",wrong:["차","우유","주스"]},{word:"Dog",correct:"개",wrong:["고양이","원숭이","토끼"]},{word:"Rain",correct:"비",wrong:["눈","바람","번개"]},{word:"Mountain",correct:"산",wrong:["바다","호수","평원"]},{word:"Music",correct:"음악",wrong:["미술","체육","수학"]}];$(document).ready((async function(){console.log(o);const n=await fetch(`${t}/english/word/`,{headers:{"content-type":"application/json"},method:"GET"});if(!n.ok)throw new Error(`Server returned an error ${n.status}: ${n.statustext}`);o=await n.json(),c(),$("#meaning").on("click",l),$("#next").on("click",g),$("#pre").on("click",d),$("#saveBtn").on("click",i)}));const e=o.length;let r="",a=0;function c(){console.log("init page"),$("#en-word").empty(),$("#meaning").empty(),$("#page-btn").empty();let t="";t=0==a?'\n        \n        <button class="btn-arrow btn-arrow-right" title="Next" id="next" \n            style="background-color: transparent; border: none;">Next</button>\n        ':a==e-1?'\n        <button class="btn-arrow btn-arrow-left" title="Previous" id="pre" \n            style="background-color: transparent; border: none; margin-right: 1350px;">Previous</button>\n        ':'\n        <button class="btn-arrow btn-arrow-left" title="Previous" id="pre" \n            style="background-color: transparent; border: none; margin-right: 1350px;">Previous</button>\n        \n        <button class="btn-arrow btn-arrow-right" title="Next" id="next" \n            style="background-color: transparent; border: none;">Next</button>',$("#page-btn").append(t),n=o[a].id;let c=o[a].term;r=o[a].meaning;let s=o[a].wrong[0],i=o[a].wrong[1],l=o[a].wrong[2],g=function(t){let n,o=t.length;for(;o>0;)n=Math.floor(Math.random()*o),o--,[t[o],t[n]]=[t[n],t[o]];return t}([r,s,i,l]),d=`<p class="title">${c}</p>`;$("#en-word").append(d),g.forEach((t=>{let n=`<li><button id="answer">${t}</button></li>`;$("#meaning").append(n)}))}function s(){c(),$(".answer").on("click",l),$("#next").on("click",g),$("#pre").on("click",d)}async function i(){const o=localStorage.getItem("access");await fetch(`${t}/english/wordsbook/${n}/`,{headers:{Authorization:"Bearer "+o},method:"POST"}).then((t=>t.json())).then((t=>{alert(t.message)})).catch((t=>{alert(t.response.data.message),console.log(t.response.data.message)}))}function l(o){let e=o.target;"BUTTON"===e.tagName&&(e.textContent==r?(alert("정답입니다!"),async function(){const o=localStorage.getItem("access");await fetch(`${t}/english/word/${n}/`,{headers:{Authorization:"Bearer "+o},method:"POST"})}()):alert("오답입니다."))}function g(){a+=1,s()}function d(){a-=1,s()}})();