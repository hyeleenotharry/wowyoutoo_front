(()=>{"use strict";const e={apikey:"10f9117a3d0b46af95b5e6f734c8c638",frontend_base_url:"http://127.0.0.1:5500",backend_base_url:"http://127.0.0.1:8000",KAKAO_REST_API_KEY:"37cdfc3a357a7f70412c7659dadc8afe",KAKAO_JS_KEY:"1187be6a4c05ceb3e9726fbccfdf4de4",SOCIAL_AUTH_GITHUB_CLIENT_ID:"d4c3cf94add403608578",SOCIAL_AUTH_GITHUB_SECRET:"5afe2cb70c3a39e4c97dac16ad907c727d89efab"},t=document.querySelectorAll(".non-click");let n,o=null,c=!1;var l=0;let r=0,a=null;function s(e){let n=e.target,l=n.id;if(console.log(n),a=n,!c)if(t.forEach((e=>{e.classList.remove("click"),e.style.backgroundColor=""})),o!==l){if(o){const e=document.getElementById(`ch${o}`);e&&(e.classList.remove("click"),e.style.backgroundColor="")}n.classList.add("click"),n.style.backgroundColor="rgb(11, 99, 59)",o=l}else n.classList.remove("click"),n.style.backgroundColor="",o=null}function i(e){var l;document.querySelector(".click")?(function(){document.getElementById("rp_question_text").getAttribute("data-correct-answer");const e=document.querySelector(".click"),t=document.getElementById(n);if(e===t)alert("정답입니다!");else{if(t.style.backgroundColor="lightgreen",o){const e=document.getElementById(`ch${o}`);e&&(e.style.backgroundColor="",e.classList.remove("click"))}e&&(e.style.backgroundColor="red")}}(),c=!0,l=document.querySelector(".reading_submit"),t.forEach((e=>{e.style.pointerEvents="none"})),l.disabled=!0,document.querySelector(".rp_ans_check_btn").style.display="block"):alert("선지를 선택해주세요!")}function d(e){t.forEach((e=>{e.style.pointerEvents="auto"})),e.disabled=!1}function u(){document.querySelector(".solution_explain").style.display="block",kursor.color("#ffffff")}function y(){document.querySelector(".solution_explain").style.display="none"}function m(){document.querySelector(".solution_explain").style.display="none",c=!1,function(){t.forEach((e=>{e.classList.remove("click"),e.style.backgroundColor=""}));const e=document.getElementById("rp_question_text").getAttribute("data-correct-answer"),n=document.getElementById(e);n&&(n.style.backgroundColor="");const c=document.getElementById(`ch${o}`);c&&(c.style.backgroundColor=""),o=null}(),document.querySelector(".rp_ans_check_btn").style.display="none",d(document.querySelector(".reading_submit")),p()}function g(){document.querySelector(".really").style.display="block"}function f(){const e=document.querySelector(".really"),t=document.querySelector(".solution_explain");document.querySelector(".result"),e.style.display="none",t.style.display="none",window.location.href="../templates/main.html"}function _(){document.querySelector(".really").style.display="none"}async function k(){const t=localStorage.getItem("access");try{await fetch(`${e.backend_base_url}/english/readingbook/${r}/`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},method:"POST",body:JSON.stringify({select:a.id})}).then((e=>(e.status,e.json()))).then((e=>{alert(e.message)}))}catch(e){console.log(e),alert("로그인이 필요한 작업입니다.")}0==l&&(l=1,document.querySelector(".save_ex_btn"))}function b(){console.log("새로운 문제"),window.location.reload()}async function p(){const t=await fetch(`${e.backend_base_url}/english/reading/`),o=await t.json();r=o[0].id;const c=o[0].title,l=o[0].paragraph,a=o[0].question,s=o[0].answers[0],i=o[0].answers[1],d=o[0].answers[2],u=o[0].answers[3],y="ch"+(o[0].solution+1);n=o[0].solution;const m=o[0].explanation;document.getElementById("rp_question_text").setAttribute("data-correct-answer",y),document.getElementById("rp_fulltext").innerHTML=`\n      <h4>Reading Reprehension</h4>\n      <h3>${c}</h3>\n      <p>${l}</p>\n    `,document.getElementById("rp_question_text").innerHTML=`\n    <p>${a}</p>\n    `,document.getElementById("0").textContent=s,document.getElementById("1").textContent=i,document.getElementById("2").textContent=d,document.getElementById("3").textContent=u,document.getElementById("solution_ans").textContent="정답: "+y.replace("ch","")+"번",document.getElementById("solution_content").textContent=m}function h(){location.href="main.html"}window.onload=function(){c=!1,d(document.querySelector(".reading_submit")),p(),$("#0").on("click",s),$("#1").on("click",s),$("#2").on("click",s),$("#3").on("click",s),$("#submit").on("click",i),$("#solution").on("click",u),$("#close-sol").on("click",y),$("#next-sol").on("click",m),$("#save-sol").on("click",k),$("#exit-sol").on("click",g),$("#really-yes").on("click",f),$("#really-no").on("click",_),$("#goto-main").on("click",h),$("#create-read").on("click",b)},document.addEventListener("DOMContentLoaded",(function(){!function(){let e=localStorage.getItem("coinCount");e||(localStorage.setItem("coinCount",10),e=10),document.getElementById("coin_num").textContent=e}(),localStorage.getItem("dprbCount")}))})();