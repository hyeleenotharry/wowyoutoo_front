(()=>{"use strict";const t="http://127.0.0.1:8000",e="http://127.0.0.1:5500";$(document).ready((async function(){let n,o,c=!1,a=1;function i(){document.getElementById("current-page").textContent=a}async function s(n){try{const o=await fetch(`${t}/service/qna/?page=${n}`,{headers:{"Content-Type":"application/json"},method:"GET"});if(!o.ok)throw new Error(`Server returned an error ${o.status}: ${o.statusText}`);const c=await o.json();console.log("FAQ Data:",c);const a=5*(n-1),i=a+5;!function(t,n){const o=document.getElementById("faqList");t.forEach((t=>{const n=document.createElement("div");n.classList.add("FAQ"),n.setAttribute("onclick",`window.location.href = '${e}/templates/DetailFAQ.html?qna_id=${t.id}'`);const c=document.createElement("div");c.classList.add("FAQ_title");const a=document.createElement("h2");a.textContent=t.title,c.appendChild(a);const i=document.createElement("div");i.classList.add("FAQ_content");const s=document.createElement("p");if(s.textContent=t.content,i.appendChild(s),n.appendChild(c),n.appendChild(i),o.appendChild(n),t.is_private){const t=document.createElement("img");t.src="../image/lock.png",t.alt="관리자와 글쓴이 본인만 볼수있습니다",t.classList.add("private-icon"),n.appendChild(t),t.style.maxWidth="50px",t.style.maxHeight="50px"}}))}(c.results.slice(a,i))}catch(t){console.error("Error fetching Q&A data:",t)}}document.getElementById("prev-page").addEventListener("click",(()=>{a>1&&(a--,i(),s(a))})),document.getElementById("next-page").addEventListener("click",(()=>{a++,i(),s(a)}));try{const i=await fetch(`${t}/service/qna/`,{headers:{"content-type":"application/json"},method:"GET"});if(!i.ok)throw new Error(`FAQ Server returned an error ${i.status}: ${i.statusText}`);o=await i.json(),console.log("FAQ Data:",o),s(a);const d=await fetch(`${t}/service/`,{headers:{"content-type":"application/json"},method:"GET"});if(!d.ok)throw new Error(`Notice Server returned an error ${d.status}: ${d.statusText}`);n=await d.json(),console.log("Notice Data:",n),function(t,n){const o=document.getElementById("noticeList");t.forEach((t=>{const n=document.createElement("div");n.setAttribute("onclick",`window.location.href = '${e}/templates/DetailNotice.html?notice_id=${t.id}'`),n.classList.add("notice");const c=document.createElement("div");c.classList.add("notice_title");const a=document.createElement("h2");a.textContent=t.title,c.appendChild(a);const i=document.createElement("div");i.classList.add("notice_content");const s=document.createElement("p");s.textContent=t.content,i.appendChild(s),n.appendChild(c),n.appendChild(i),o.appendChild(n)}))}(n),c=!1,document.getElementById("superuser").style.display=c?"block":"none"}catch(t){console.error("Error fetching data:",t)}}))})();