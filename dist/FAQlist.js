(()=>{const e="http://localhost:8000";$(document).ready((async function(){let t,n,c=!1,o=1;function a(){document.getElementById("current-page").textContent=o}async function s(t){try{const n=await fetch(`${e}/service/qna/?page=${t}`,{headers:{"Content-Type":"application/json"},method:"GET"});if(!n.ok)throw new Error(`Server returned an error ${n.status}: ${n.statusText}`);const c=await n.json();console.log("FAQ Data:",c);const o=5*(t-1),a=o+5;!function(e,t){const n=document.getElementById("faqList");e.forEach((e=>{const t=document.createElement("div");if(e.is_private){t.classList.add("FAQ","locked"),t.setAttribute("onclick","window.open('DetailFAQ.html')");const e=document.createElement("div");e.classList.add("FAQ_title","lock");const n=document.createElement("img");n.class="imglock",n.src="../image/lock.png",n.alt="lock";const c=document.createElement("h3");c.innerHTML="&nbsp;관리자와 작성자만 볼 수 있는 게시글입니다.",e.appendChild(n),e.appendChild(c),t.appendChild(e)}else{t.classList.add("FAQ");const n=document.createElement("div");n.classList.add("FAQ_title");const c=document.createElement("h2");c.textContent=e.title,n.appendChild(c);const o=document.createElement("div");o.classList.add("FAQ_content");const a=document.createElement("p");a.textContent=e.content,o.appendChild(a),t.appendChild(n),t.appendChild(o)}n.appendChild(t)}))}(c.results.slice(o,a))}catch(e){console.error("Error fetching Q&A data:",e)}}document.getElementById("prev-page").addEventListener("click",(()=>{o>1&&(o--,a(),s(o))})),document.getElementById("next-page").addEventListener("click",(()=>{o++,a(),s(o)}));try{const a=await fetch(`${e}/service/qna/`,{headers:{"content-type":"application/json"},method:"GET"});if(!a.ok)throw new Error(`FAQ Server returned an error ${a.status}: ${a.statusText}`);n=await a.json(),console.log("FAQ Data:",n),s(o);const d=await fetch(`${e}/service/`,{headers:{"content-type":"application/json"},method:"GET"});if(!d.ok)throw new Error(`Notice Server returned an error ${d.status}: ${d.statusText}`);t=await d.json(),console.log("Notice Data:",t),function(e,t){const n=document.getElementById("noticeList");e.forEach((e=>{const t=document.createElement("div");t.classList.add("notice");const c=document.createElement("div");c.classList.add("notice_title");const o=document.createElement("h2");o.textContent=e.title,c.appendChild(o);const a=document.createElement("div");a.classList.add("notice_content");const s=document.createElement("p");s.textContent=e.content,a.appendChild(s),t.appendChild(c),t.appendChild(a),n.appendChild(t)}))}(t),c=!1,document.getElementById("superuser").style.display=c?"block":"none"}catch(e){console.error("Error fetching data:",e)}}))})();